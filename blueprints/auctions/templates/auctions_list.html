{% extends "base.html" %}

{% block title %}Auctions{% endblock %}

{% block content %}
<h1>Auctions</h1>

<form method="get">
    <input type="text"
           name="q"
           placeholder="Search auctions"
           value="{{ filters.q }}">

    <input type="text" name="category" placeholder="Search category" value="{{ filters.category }}">

    <input type="number"
           name="min_price"
           placeholder="Min price"
           value="{{ filters.min_price }}">

    <input type="number"
           name="max_price"
           placeholder="Max price"
           value="{{ filters.max_price }}">

    <label>Ends before:</label>
    <input type="datetime-local"
           name="ends_before"
           value="{{ filters.ends_before }}">

    <button class="button" type="submit">Search</button>
    <a class="button-secondary" href="{{ url_for('auctions_bp.auctions_list') }}">Clear</a>
</form>


<ul class="grid-container">
    {% for auction in auctions %}
        <li><p>
            <a class="title-link" href="{{ url_for('auctions_bp.auctions_detail', auction_id=auction.id) }}">
                {{ auction.title }}
            </a>
            </p>
            {% if auction.image_url %}
            <img src="{{ auction.image_url }}" class="card-img">
            {% endif %}
            <p>{{ auction.description }}</p>
            <p><b>Starting bid:</b> ${{ auction.starting_bid }}</p>
            <p><b>Ends at:</b> {{ auction.end_at.strftime("%d %b %Y kl %H:%M") }}</p>
        </li>
    {% endfor %}
</ul>
{% endblock %}
